<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="一觉睡醒，前端又出新框架了">
<meta property="og:type" content="website">
<meta property="og:title" content="EXCALIBUR">
<meta property="og:url" content="http://www.wanzhuhao.cn/index.html">
<meta property="og:site_name" content="EXCALIBUR">
<meta property="og:description" content="一觉睡醒，前端又出新框架了">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="EXCALIBUR">
<meta name="twitter:description" content="一觉睡醒，前端又出新框架了">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://www.wanzhuhao.cn/"/>

  <title> EXCALIBUR </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?6b76e9bfbd7a965d2ad9ed314a9ebe1e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">EXCALIBUR</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">In Arthurian legend, the sword belonging to King Arthur.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'QvwLzan7Uz5xPEAmtKy5','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南7——多级连播功能/" itemprop="url">
                  videojs入门指南7——多级连播功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:42:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/plugin/" itemprop="url" rel="index">
                    <span itemprop="name">plugin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南7——多级连播功能/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南7——多级连播功能/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用videojs-playlist-插件为videoJS视屏添加多集连播功能"><a href="#使用videojs-playlist-插件为videoJS视屏添加多集连播功能" class="headerlink" title="使用videojs-playlist 插件为videoJS视屏添加多集连播功能"></a>使用videojs-playlist 插件为videoJS视屏添加多集连播功能</h3><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/brightcove/videojs-playlist" target="_blank" rel="external">插件地址</a></h4><h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><ol>
<li>引入插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;path/to/video.js/dist/video.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;path/to/videojs-playlist/dist/videojs-playlist.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li>项目初始化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">var player = videojs(&apos;video&apos;);</div><div class="line"></div><div class="line">player.playlist([&#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/sintel/trailer.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/sintel/poster.png&apos;</div><div class="line">&#125;, &#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/bunny/trailer.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/bunny/poster.png&apos;</div><div class="line">&#125;, &#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://vjs.zencdn.net/v/oceans.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://www.videojs.com/img/poster.jpg&apos;</div><div class="line">&#125;, &#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/bunny/movie.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/bunny/poster.png&apos;</div><div class="line">&#125;, &#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/video/movie_300.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/video/poster.png&apos;</div><div class="line">&#125;]);</div><div class="line"></div><div class="line">// Play through the playlist automatically.</div><div class="line">player.playlist.autoadvance(0);</div></pre></td></tr></table></figure>
<h4 id="方法和事件"><a href="#方法和事件" class="headerlink" title="方法和事件"></a>方法和事件</h4><ol>
<li>player.playlist([Array newList], [Number newIndex]) -&gt; Array<br>获取或设置播放器的当前播放列表。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">player.playlist([&#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/video/movie_300.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/video/poster.png&apos;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<p>第二个参数设置视频加载的index。如果省略了,默认加载第一个视屏</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">player.playlist([&#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/sintel/trailer.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/sintel/poster.png&apos;</div><div class="line">&#125;, &#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/bunny/trailer.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;],</div><div class="line">  poster: &apos;http://media.w3.org/2010/05/bunny/poster.png&apos;</div><div class="line">&#125;], 1);</div></pre></td></tr></table></figure>
<ol>
<li>player.playlist.currentItem([Number index]) -&gt; Number<br>获取或设置当前项目索引。如果播放器正在播放非播放列表视频，它将返回-1。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">player.currentItem();</div><div class="line">// 0</div><div class="line"></div><div class="line">player.currentItem(2);</div><div class="line">// 2</div><div class="line"></div><div class="line">player.playlist(samplePlaylist);</div><div class="line">player.src(&apos;http://example.com/video.mp4&apos;);</div><div class="line">player.playlist.currentItem();</div><div class="line">// -1</div></pre></td></tr></table></figure>
<ol>
<li>player.playlist.contains(String|Object|Array value) -&gt; Boolean 确定播放列表中是否包含字符串，源对象或播放列表项目。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">playlist.contains(&apos;http://media.w3.org/2010/05/sintel/trailer.mp4&apos;)</div><div class="line">// true</div><div class="line"></div><div class="line">playlist.contains([&#123;</div><div class="line">  src: &apos;http://media.w3.org/2010/05/sintel/poster.png&apos;,</div><div class="line">  type: &apos;image/png&apos;</div><div class="line">&#125;])</div><div class="line">// false</div><div class="line"></div><div class="line">playlist.contains(&#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/sintel/trailer.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;]</div><div class="line">&#125;);</div><div class="line">// true</div></pre></td></tr></table></figure>
<ol>
<li>player.playlist.indexOf(String|Object|Array value) -&gt; Number。获取播放列表中的字符串，源对象或播放列表项目的索引。如果没有找到，返回-1。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">playlist.indexOf(&apos;http://media.w3.org/2010/05/bunny/trailer.mp4&apos;)</div><div class="line">// 1</div><div class="line"></div><div class="line">playlist.contains([&#123;</div><div class="line">  src: &apos;http://media.w3.org/2010/05/bunny/movie.mp4&apos;,</div><div class="line">  type: &apos;video/mp4&apos;</div><div class="line">&#125;])</div><div class="line">// 3</div><div class="line"></div><div class="line">playlist.contains(&#123;</div><div class="line">  sources: [&#123;</div><div class="line">    src: &apos;http://media.w3.org/2010/05/video/movie_300.mp4&apos;,</div><div class="line">    type: &apos;video/mp4&apos;</div><div class="line">  &#125;]</div><div class="line">&#125;);</div><div class="line">// 4</div></pre></td></tr></table></figure>
<ol>
<li>player.playlist.first() -&gt; Object|undefined 。播放播放列表中的第一个项目。</li>
<li>player.playlist.last() -&gt; Object|undefined 。播放播放列表中的最后一个项目。</li>
<li>player.playlist.next() -&gt; Object 。进入播放列表中的下一个项目。</li>
<li>player.playlist.previous() -&gt; Object。回到播放列表中的上一个项目。</li>
<li>player.playlist.autoadvance([Number delay]) -&gt; undefined 设置播放列表自动提前行为。一旦被调用，在播放列表中的每个视频结束时，插件将等待delay几秒钟，然后自动进入下一个视频。如果在延迟期间更改自动提前功能，则自动提前将被取消，并且不会推进下一个视频，但会为以下视频使用新的超时值。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 不等待直接进入下一个视屏</div><div class="line">player.playlist.autoadvance(0);</div><div class="line"></div><div class="line">// 等待五秒</div><div class="line">player.playlist.autoadvance(5);</div><div class="line"></div><div class="line">// 重置等待时间</div><div class="line">player.playlist.autoadvance();</div></pre></td></tr></table></figure>
<ol>
<li>player.playlist.repeat([Boolean val]) -&gt; Boolean 当启用时，播放列表中最后一个视频之后的“下一个”视频是播放列表中的第一个视频。这会影响调用next()，自动播放等的行为。</li>
</ol>
<h5 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h5><ol>
<li>playlistchange 每当播放列表的内容被改变时（即，当player.playlist()用参数调用时），该事件被异步地被触发</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">player.on(&apos;playlistchange&apos;, function() &#123;</div><div class="line">  console.log(player.playlist());</div><div class="line">&#125;);</div><div class="line"></div><div class="line">player.playlist([ ... ]);</div><div class="line">// [ ... ]</div><div class="line"></div><div class="line">player.playlist([ ... ]);</div><div class="line">// [ ... ]</div></pre></td></tr></table></figure>
<ol>
<li>beforeplaylistitem 播放列表的内容切换之前</li>
<li>playlistitem 播放列表的内容切换时</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南6——添加水印/" itemprop="url">
                  videojs入门指南6——添加水印
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:41:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南6——添加水印/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南6——添加水印/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用watermark插件为videojs视屏添加水印"><a href="#使用watermark插件为videojs视屏添加水印" class="headerlink" title="使用watermark插件为videojs视屏添加水印"></a>使用watermark插件为videojs视屏添加水印</h3><h5 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/dotsub/videojs-watermark" target="_blank" rel="external">插件地址</a></h5><h4 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h4><ol>
<li>添加css和js文件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;../../lib/videojs-watermark.css&quot;&gt;</div><div class="line">&lt;script src=&quot;../../lib/videojs-watermark.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li>初始化插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var player = videojs(&quot;my-video&quot;);</div><div class="line">player.watermark(&#123;</div><div class="line">  image:&quot;../video/logo.png&quot;,//水印url</div><div class="line">  position:&quot;top-right&quot;,//水印位置共四个值，top-left, top-right, bottom-left, bottom-right，默认就是&quot;top-right&quot;</div><div class="line">  fadeTime:3000,//水印每隔一段时间褪色，如果需要水印一直存在，使用null</div><div class="line">  url:&quot;http://www.baidu.com&quot;,//点击水印跳向的链接</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="该插件一共只有四个配置参数"><a href="#该插件一共只有四个配置参数" class="headerlink" title="该插件一共只有四个配置参数"></a>该插件一共只有四个配置参数</h4><p>1.image://水印url</p>
<p>2.position://水印位置共四个值，top-left, top-right,bottom-left,bottom-right，默认就是”top-right”</p>
<p>3.fadeTime://水印每隔一段时间褪色，如果需要水印一直存在，使用null</p>
<p>4.url://点击水印跳向的链接</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南5——广告功能/" itemprop="url">
                  videojs入门指南5——广告功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:40:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/plugin/" itemprop="url" rel="index">
                    <span itemprop="name">plugin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南5——广告功能/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南5——广告功能/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用videojs-contrib-ads插件为视屏添加广告功能"><a href="#使用videojs-contrib-ads插件为视屏添加广告功能" class="headerlink" title="使用videojs-contrib-ads插件为视屏添加广告功能"></a>使用videojs-contrib-ads插件为视屏添加广告功能</h3><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/videojs/videojs-contrib-ads" target="_blank" rel="external">插件地址</a></h4><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><h5 id="videojs-contrib-ads插件是一个提供了常用video-js视频广告所需要功能的库。用于减少代码的集成。这个插件看着比较复杂，其实我们完全可以按照自己的想法来实现广告功能，我个人认为最简单的方式就是在视屏上覆盖一层广告层。"><a href="#videojs-contrib-ads插件是一个提供了常用video-js视频广告所需要功能的库。用于减少代码的集成。这个插件看着比较复杂，其实我们完全可以按照自己的想法来实现广告功能，我个人认为最简单的方式就是在视屏上覆盖一层广告层。" class="headerlink" title="videojs-contrib-ads插件是一个提供了常用video.js视频广告所需要功能的库。用于减少代码的集成。这个插件看着比较复杂，其实我们完全可以按照自己的想法来实现广告功能，我个人认为最简单的方式就是在视屏上覆盖一层广告层。"></a>videojs-contrib-ads插件是一个提供了常用video.js视频广告所需要功能的库。用于减少代码的集成。这个插件看着比较复杂，其实我们完全可以按照自己的想法来实现广告功能，我个人认为最简单的方式就是在视屏上覆盖一层广告层。</h5><h5 id="一旦您调用player-ads-初始化插件，它提供了六个交互点（四个事件和两个方法），您可以在集成中使用它们。（ps：这是按照官方的文档翻译的，我到现在都没明白蛰四个事件和两个方法是怎么来的，明明一堆的事件）"><a href="#一旦您调用player-ads-初始化插件，它提供了六个交互点（四个事件和两个方法），您可以在集成中使用它们。（ps：这是按照官方的文档翻译的，我到现在都没明白蛰四个事件和两个方法是怎么来的，明明一堆的事件）" class="headerlink" title="一旦您调用player.ads()初始化插件，它提供了六个交互点（四个事件和两个方法），您可以在集成中使用它们。（ps：这是按照官方的文档翻译的，我到现在都没明白蛰四个事件和两个方法是怎么来的，明明一堆的事件）"></a>一旦您调用player.ads()初始化插件，它提供了六个交互点（四个事件和两个方法），您可以在集成中使用它们。（ps：这是按照官方的文档翻译的，我到现在都没明白蛰四个事件和两个方法是怎么来的，明明一堆的事件）</h5><h5 id="以下是从广告插件向您整合信息的事件："><a href="#以下是从广告插件向您整合信息的事件：" class="headerlink" title="以下是从广告插件向您整合信息的事件："></a>以下是从广告插件向您整合信息的事件：</h5><h6 id="1-contentupdate（EVENT）-当新内容视频已分配给播放器时触发，意思就是当前player对象的currentsrc改变时该事件会被触发，这意味着在播放新视频时可以通过该事件获取新的广告资源"><a href="#1-contentupdate（EVENT）-当新内容视频已分配给播放器时触发，意思就是当前player对象的currentsrc改变时该事件会被触发，这意味着在播放新视频时可以通过该事件获取新的广告资源" class="headerlink" title="1. contentupdate（EVENT） - 当新内容视频已分配给播放器时触发，意思就是当前player对象的currentsrc改变时该事件会被触发，这意味着在播放新视频时可以通过该事件获取新的广告资源"></a>1. contentupdate（EVENT） - 当新内容视频已分配给播放器时触发，意思就是当前player对象的currentsrc改变时该事件会被触发，这意味着在播放新视频时可以通过该事件获取新的广告资源</h6><h6 id="2-readyforpreroll-（EVENT）-内容视频第一次播放时触发，所以可以在此触发广告资源。"><a href="#2-readyforpreroll-（EVENT）-内容视频第一次播放时触发，所以可以在此触发广告资源。" class="headerlink" title="2. readyforpreroll （EVENT） - 内容视频第一次播放时触发，所以可以在此触发广告资源。"></a>2. readyforpreroll （EVENT） - 内容视频第一次播放时触发，所以可以在此触发广告资源。</h6><h5 id="以下是用于向广告插件发送信息的交互点："><a href="#以下是用于向广告插件发送信息的交互点：" class="headerlink" title="以下是用于向广告插件发送信息的交互点："></a>以下是用于向广告插件发送信息的交互点：</h5><h6 id="1-adsready-（EVENT）-触发此事件，表示您的集成已准备好播放广告。"><a href="#1-adsready-（EVENT）-触发此事件，表示您的集成已准备好播放广告。" class="headerlink" title="1. adsready （EVENT） - 触发此事件，表示您的集成已准备好播放广告。"></a>1. adsready （EVENT） - 触发此事件，表示您的集成已准备好播放广告。</h6><h6 id="2-adplaying（EVENT）-在广告开始播放时触发此事件。如果您的整合playing在广告开始时触发事件，则会自动重新分配adplaying。"><a href="#2-adplaying（EVENT）-在广告开始播放时触发此事件。如果您的整合playing在广告开始时触发事件，则会自动重新分配adplaying。" class="headerlink" title="2. adplaying（EVENT） - 在广告开始播放时触发此事件。如果您的整合playing在广告开始时触发事件，则会自动重新分配adplaying。"></a>2. adplaying（EVENT） - 在广告开始播放时触发此事件。如果您的整合playing在广告开始时触发事件，则会自动重新分配adplaying。</h6><h6 id="3-adscanceled（EVENT）-在启动播放器或设置新视频以完全跳过广告后触发此事件。此事件是可选的-如果您打算展示广告，则无需担心触发它。"><a href="#3-adscanceled（EVENT）-在启动播放器或设置新视频以完全跳过广告后触发此事件。此事件是可选的-如果您打算展示广告，则无需担心触发它。" class="headerlink" title="3. adscanceled（EVENT） - 在启动播放器或设置新视频以完全跳过广告后触发此事件。此事件是可选的; 如果您打算展示广告，则无需担心触发它。"></a>3. adscanceled（EVENT） - 在启动播放器或设置新视频以完全跳过广告后触发此事件。此事件是可选的; 如果您打算展示广告，则无需担心触发它。</h6><h6 id="4-adserror-（EVENT）-触发此事件，表示广告整合中出现错误，任何广告状态都会中止，以便内容恢复。"><a href="#4-adserror-（EVENT）-触发此事件，表示广告整合中出现错误，任何广告状态都会中止，以便内容恢复。" class="headerlink" title="4. adserror （EVENT） - 触发此事件，表示广告整合中出现错误，任何广告状态都会中止，以便内容恢复。"></a>4. adserror （EVENT） - 触发此事件，表示广告整合中出现错误，任何广告状态都会中止，以便内容恢复。</h6><h6 id="5-nopreroll（EVENT）-触发此事件，表示将不会有预卷广告。否则播放器将等待直到发生超时才能播放内容。此事件是可选的，但可以改善用户体验。"><a href="#5-nopreroll（EVENT）-触发此事件，表示将不会有预卷广告。否则播放器将等待直到发生超时才能播放内容。此事件是可选的，但可以改善用户体验。" class="headerlink" title="5. nopreroll（EVENT） - 触发此事件，表示将不会有预卷广告。否则播放器将等待直到发生超时才能播放内容。此事件是可选的，但可以改善用户体验。"></a>5. nopreroll（EVENT） - 触发此事件，表示将不会有预卷广告。否则播放器将等待直到发生超时才能播放内容。此事件是可选的，但可以改善用户体验。</h6><h6 id="6-nopostroll（EVENT）-触发此事件表示将不会有任何后期广告。否则，如果没有后期刊物，则内容会在内容结束后触发广告事件。"><a href="#6-nopostroll（EVENT）-触发此事件表示将不会有任何后期广告。否则，如果没有后期刊物，则内容会在内容结束后触发广告事件。" class="headerlink" title="6. nopostroll（EVENT） - 触发此事件表示将不会有任何后期广告。否则，如果没有后期刊物，则内容会在内容结束后触发广告事件。"></a>6. nopostroll（EVENT） - 触发此事件表示将不会有任何后期广告。否则，如果没有后期刊物，则内容会在内容结束后触发广告事件。</h6><h6 id="7-ads-ad-started-（EVENT）-每个广告开始时触发。"><a href="#7-ads-ad-started-（EVENT）-每个广告开始时触发。" class="headerlink" title="7. ads-ad-started （EVENT） - 每个广告开始时触发。"></a>7. ads-ad-started （EVENT） - 每个广告开始时触发。</h6><h6 id="8-contentresumed（EVENT）-如果您的整合在广告后恢复内容时不会导致“播放”事件，请发送此事件以表明该内容可以恢复。这是添加到支持缝合广告，通常不是必需的。"><a href="#8-contentresumed（EVENT）-如果您的整合在广告后恢复内容时不会导致“播放”事件，请发送此事件以表明该内容可以恢复。这是添加到支持缝合广告，通常不是必需的。" class="headerlink" title="8. contentresumed（EVENT） - 如果您的整合在广告后恢复内容时不会导致“播放”事件，请发送此事件以表明该内容可以恢复。这是添加到支持缝合广告，通常不是必需的。"></a>8. contentresumed（EVENT） - 如果您的整合在广告后恢复内容时不会导致“播放”事件，请发送此事件以表明该内容可以恢复。这是添加到支持缝合广告，通常不是必需的。</h6><h6 id="9-ads-startLinearAdMode-（方法）-调用此方法来表明您的集成即将播放线性广告。该方法触发adstart由播放器发出。"><a href="#9-ads-startLinearAdMode-（方法）-调用此方法来表明您的集成即将播放线性广告。该方法触发adstart由播放器发出。" class="headerlink" title="9. ads.startLinearAdMode()（方法） - 调用此方法来表明您的集成即将播放线性广告。该方法触发adstart由播放器发出。"></a>9. ads.startLinearAdMode()（方法） - 调用此方法来表明您的集成即将播放线性广告。该方法触发adstart由播放器发出。</h6><h6 id="10-ads-endLinearAdMode-（方法）-调用此方法来表示您的集成完成播放线性广告，准备恢复内容视频。该方法触发adend由播放器发出。"><a href="#10-ads-endLinearAdMode-（方法）-调用此方法来表示您的集成完成播放线性广告，准备恢复内容视频。该方法触发adend由播放器发出。" class="headerlink" title="10. ads.endLinearAdMode()（方法） - 调用此方法来表示您的集成完成播放线性广告，准备恢复内容视频。该方法触发adend由播放器发出。"></a>10. ads.endLinearAdMode()（方法） - 调用此方法来表示您的集成完成播放线性广告，准备恢复内容视频。该方法触发adend由播放器发出。</h6><h6 id="11-ads-skipLinearAdMode-（方法）-调用此方法来表示您的集成已收到广告响应，但不会播放线性广告。该方法触发adskip由播放器发出。"><a href="#11-ads-skipLinearAdMode-（方法）-调用此方法来表示您的集成已收到广告响应，但不会播放线性广告。该方法触发adskip由播放器发出。" class="headerlink" title="11. ads.skipLinearAdMode()（方法） - 调用此方法来表示您的集成已收到广告响应，但不会播放线性广告。该方法触发adskip由播放器发出。"></a>11. ads.skipLinearAdMode()（方法） - 调用此方法来表示您的集成已收到广告响应，但不会播放线性广告。该方法触发adskip由播放器发出。</h6><h6 id="12-ads-stitchedAds-（方法）-获取或设置stitchedAds设置。"><a href="#12-ads-stitchedAds-（方法）-获取或设置stitchedAds设置。" class="headerlink" title="12. ads.stitchedAds()（方法） - 获取或设置stitchedAds设置。"></a>12. ads.stitchedAds()（方法） - 获取或设置stitchedAds设置。</h6><h6 id="13-ads-videoElementRecycled-（方法）-如果content元素中发生广告回放，则返回true。"><a href="#13-ads-videoElementRecycled-（方法）-如果content元素中发生广告回放，则返回true。" class="headerlink" title="13. ads.videoElementRecycled() （方法） - 如果content元素中发生广告回放，则返回true。"></a>13. ads.videoElementRecycled() （方法） - 如果content元素中发生广告回放，则返回true。</h6><h5 id="您的集成可能需要包括的其他事件和属性"><a href="#您的集成可能需要包括的其他事件和属性" class="headerlink" title="您的集成可能需要包括的其他事件和属性"></a>您的集成可能需要包括的其他事件和属性</h5><h5 id="这个项目不会发送这些事件，但是这些事件是一些惯例，使用一些您可能想要考虑发送一致性的集成。"><a href="#这个项目不会发送这些事件，但是这些事件是一些惯例，使用一些您可能想要考虑发送一致性的集成。" class="headerlink" title="这个项目不会发送这些事件，但是这些事件是一些惯例，使用一些您可能想要考虑发送一致性的集成。"></a>这个项目不会发送这些事件，但是这些事件是一些惯例，使用一些您可能想要考虑发送一致性的集成。</h5><h5 id="活动"><a href="#活动" class="headerlink" title="活动"></a>活动</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">ads-request：请求广告数据时触发。</div><div class="line"></div><div class="line">ads-load：广告请求后可以使用广告数据时触发。</div><div class="line"></div><div class="line">ads-pod-started：当LINEAR广告窗格启动时触发。</div><div class="line"></div><div class="line">ads-pod-ended：LINEAR广告荚已完成时触发。</div><div class="line"></div><div class="line">ads-allpods-completed：所有LINEAR广告完成后触发。</div><div class="line"></div><div class="line">ads-ad-started：广告开始播放时触发。</div><div class="line"></div><div class="line">ads-ad-ended：广告完成播放时触发。</div><div class="line"></div><div class="line">ads-first-quartile：当广告播放头穿过第一个四分位数时触发。</div><div class="line"></div><div class="line">ads-midpoint：当广告播放头穿过中点时触发。</div><div class="line"></div><div class="line">ads-third-quartile当广告播放头穿过第三个四分位数时被触发。</div><div class="line"></div><div class="line">ads-pause：广告暂停时触发。</div><div class="line"></div><div class="line">ads-play：广告恢复后触发。</div><div class="line"></div><div class="line">ads-mute：当广告音量已被静音时触发。</div><div class="line"></div><div class="line">ads-click：点击广告时触发。</div></pre></td></tr></table></figure>
<h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">player.ads.provider = &#123;</div><div class="line">  &quot;type&quot;: `String`,</div><div class="line">  &quot;event&quot;: `Object`</div><div class="line">&#125;</div><div class="line"></div><div class="line">player.ads.ad = &#123;</div><div class="line">  &quot;type&quot;: `String`,</div><div class="line">  &quot;index&quot;: `Number`,</div><div class="line">  &quot;id&quot;: `String`,</div><div class="line">  &quot;duration&quot;: `Number`,</div><div class="line">  &quot;currentTime&quot;: `Function`</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="宏（个人感觉作用不大，还不太好用）"><a href="#宏（个人感觉作用不大，还不太好用）" class="headerlink" title="宏（个人感觉作用不大，还不太好用）"></a>宏（个人感觉作用不大，还不太好用）</h5><h6 id="广告库的可选功能——广告宏。广告集成通常会使用广告宏，支将运行时将值添加到服务器URL或配置中。"><a href="#广告库的可选功能——广告宏。广告集成通常会使用广告宏，支将运行时将值添加到服务器URL或配置中。" class="headerlink" title="广告库的可选功能——广告宏。广告集成通常会使用广告宏，支将运行时将值添加到服务器URL或配置中。"></a>广告库的可选功能——广告宏。广告集成通常会使用广告宏，支将运行时将值添加到服务器URL或配置中。</h6><h5 id="例如，支持此功能的广告集成可能会接受如下所示的广告服务器网址："><a href="#例如，支持此功能的广告集成可能会接受如下所示的广告服务器网址：" class="headerlink" title="例如，支持此功能的广告集成可能会接受如下所示的广告服务器网址："></a>例如，支持此功能的广告集成可能会接受如下所示的广告服务器网址：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;http://example.com/vmap.xml?id=&#123;player.id&#125;&apos;</div></pre></td></tr></table></figure>
<h6 id="在广告集成中，它将使用videojs-contrib-ads宏功能来处理该网址，如下所示："><a href="#在广告集成中，它将使用videojs-contrib-ads宏功能来处理该网址，如下所示：" class="headerlink" title="在广告集成中，它将使用videojs-contrib-ads宏功能来处理该网址，如下所示："></a>在广告集成中，它将使用videojs-contrib-ads宏功能来处理该网址，如下所示：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">serverUrl = player.ads.adMacroReplacement(serverUrl, true, additionalMacros);</div></pre></td></tr></table></figure>
<h6 id="这将导致如下所示的服务器URL："><a href="#这将导致如下所示的服务器URL：" class="headerlink" title="这将导致如下所示的服务器URL："></a>这将导致如下所示的服务器URL：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;http://example.com/vmap.xml?id=12345&apos;</div></pre></td></tr></table></figure>
<h6 id="其中12345是播放器ID。"><a href="#其中12345是播放器ID。" class="headerlink" title="其中12345是播放器ID。"></a>其中12345是播放器ID。</h6><h6 id="adMacroReplacement需要3个参数："><a href="#adMacroReplacement需要3个参数：" class="headerlink" title="adMacroReplacement需要3个参数："></a>adMacroReplacement需要3个参数：</h6><ol>
<li>具有要替换的宏的字符串。</li>
<li>true如果宏值在插入时应该是URI编码的，否则false（默认false）</li>
<li>定义其他宏的可选对象，如{‘{five}’: 5}（默认{}）</li>
</ol>
<table>
<thead>
<tr>
<th>名称</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>{player.id}</td>
<td>The player ID</td>
</tr>
<tr>
<td>{player.duration}</td>
<td>The duration of current video*</td>
</tr>
<tr>
<td>{timestamp}</td>
<td>Current epoch time</td>
</tr>
<tr>
<td>{document.referrer}</td>
<td>Value of document.referrer</td>
</tr>
<tr>
<td>{window.location.href}</td>
<td>Value of window.location.href</td>
</tr>
<tr>
<td>{random}</td>
<td>A random number 0-1 trillion</td>
</tr>
<tr>
<td>{mediainfo.id}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.name}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.description}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.tags}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.reference_id}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.duration}</td>
<td>Pulled from mediainfo object</td>
</tr>
<tr>
<td>{mediainfo.ad_keys}</td>
<td>Pulled from mediainfo object</td>
</tr>
</tbody>
</table>
<h6 id="再往下的内容如果有兴趣的可以自己看，太多了，而且总感觉这个插件的好多功能用途不广。示例中展示了一个简单的广告集成例子，实际上的肯定会复杂的多"><a href="#再往下的内容如果有兴趣的可以自己看，太多了，而且总感觉这个插件的好多功能用途不广。示例中展示了一个简单的广告集成例子，实际上的肯定会复杂的多" class="headerlink" title="再往下的内容如果有兴趣的可以自己看，太多了，而且总感觉这个插件的好多功能用途不广。示例中展示了一个简单的广告集成例子，实际上的肯定会复杂的多"></a>再往下的内容如果有兴趣的可以自己看，太多了，而且总感觉这个插件的好多功能用途不广。示例中展示了一个简单的广告集成例子，实际上的肯定会复杂的多</h6>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南4——清晰度切换/" itemprop="url">
                  videojs入门指南4——m3u8格式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:39:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南4——清晰度切换/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南4——清晰度切换/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用videojs-contrib-hls插件使videojs支持hls流m3u8格式文件"><a href="#使用videojs-contrib-hls插件使videojs支持hls流m3u8格式文件" class="headerlink" title="使用videojs-contrib-hls插件使videojs支持hls流m3u8格式文件"></a>使用videojs-contrib-hls插件使videojs支持hls流m3u8格式文件</h3><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/videojs/videojs-contrib-hls/" target="_blank" rel="external">插件地址</a></h4><h4 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h4><h5 id="hls插件使videojs中最出名的插件，支持hls直播流。就目前直播常见的协议有三种，RTMP-RTSP-HLS。但国内大部分直播平台仍然使用flash播放器。html5播放器的直播平台几乎没有。所以是否要选择videojs来进行直播。还是一个值得好好考虑的问题。"><a href="#hls插件使videojs中最出名的插件，支持hls直播流。就目前直播常见的协议有三种，RTMP-RTSP-HLS。但国内大部分直播平台仍然使用flash播放器。html5播放器的直播平台几乎没有。所以是否要选择videojs来进行直播。还是一个值得好好考虑的问题。" class="headerlink" title="hls插件使videojs中最出名的插件，支持hls直播流。就目前直播常见的协议有三种，RTMP,RTSP,HLS。但国内大部分直播平台仍然使用flash播放器。html5播放器的直播平台几乎没有。所以是否要选择videojs来进行直播。还是一个值得好好考虑的问题。"></a>hls插件使videojs中最出名的插件，支持hls直播流。就目前直播常见的协议有三种，RTMP,RTSP,HLS。但国内大部分直播平台仍然使用flash播放器。html5播放器的直播平台几乎没有。所以是否要选择videojs来进行直播。还是一个值得好好考虑的问题。</h5><ol>
<li>最简单的使用方式，引入hls的js文件就可以了，注意source的type属性。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt; video  id = example-video  width = 600  height = 300  class = “ video-js vjs-default-skin ”  controls &gt;</div><div class="line">  &lt; source </div><div class="line">     src = “ https://example.com/index.m3u8 ”</div><div class="line">      type = “ application / x-mpegURL ” &gt;</div><div class="line">&lt;/ video &gt;</div><div class="line">&lt; script  src = “ video.js ” &gt; &lt;/ script &gt;</div><div class="line">&lt; script  src = “ videojs-contrib-hls.min.js ” &gt; &lt;/ script &gt;</div></pre></td></tr></table></figure>
<ol>
<li>如果你正在尝试使用videojs 6.0版本的话，请先加上videojs-flash插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt; script  src = “ https://unpkg.com/videojs-flash/dist/videojs-flash.js ” &gt; &lt;/ script &gt;</div><div class="line">&lt; script  src = “ https://unpkg.com/videojs-contrib-hls/dist/videojs-contrib-hls.js ” &gt; &lt;/ script &gt;</div></pre></td></tr></table></figure>
<ol>
<li>初始化的时候也可以将选项参数传递给videojs对象</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">hls videojs（video，&#123;html5： &#123;</div><div class="line">  hls ： &#123;</div><div class="line">    withCredentials ： true</div><div class="line">  &#125;</div><div class="line">&#125;&#125;）;</div><div class="line"></div><div class="line"> //或者</div><div class="line"> </div><div class="line">hls videojs（video，&#123;flash： &#123;</div><div class="line">  hls ： &#123;</div><div class="line">    withCredentials ： true</div><div class="line">  &#125;</div><div class="line">&#125;&#125;）;</div></pre></td></tr></table></figure>
<h6 id="该插件的一些额外配置参数一般都是基于协议层面的选项，少有针对ui层的，在此不做过多介绍，如有需求可以自行深入该插件。"><a href="#该插件的一些额外配置参数一般都是基于协议层面的选项，少有针对ui层的，在此不做过多介绍，如有需求可以自行深入该插件。" class="headerlink" title="该插件的一些额外配置参数一般都是基于协议层面的选项，少有针对ui层的，在此不做过多介绍，如有需求可以自行深入该插件。"></a>该插件的一些额外配置参数一般都是基于协议层面的选项，少有针对ui层的，在此不做过多介绍，如有需求可以自行深入该插件。</h6>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南3——清晰度切换/" itemprop="url">
                  videojs入门指南3——清晰度切换
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:38:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/plugin/" itemprop="url" rel="index">
                    <span itemprop="name">plugin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南3——清晰度切换/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南3——清晰度切换/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用videojs-resolution-switcher插件为视屏添加清晰度切换"><a href="#使用videojs-resolution-switcher插件为视屏添加清晰度切换" class="headerlink" title="使用videojs-resolution-switcher插件为视屏添加清晰度切换"></a>使用videojs-resolution-switcher插件为视屏添加清晰度切换</h3><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/kmoskwiak/videojs-resolution-switcher" target="_blank" rel="external">插件地址</a></h4><h4 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h4><p>1.引用js和css文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;../../lib/videojs-resolution-switcher.css&quot;&gt;</div><div class="line">&lt;script src=&quot;../../lib/videojs-resolution-switcher.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>2.初始化项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">videojs(&apos;my-video&apos;, &#123;</div><div class="line">            controls: true,</div><div class="line">            plugins: &#123;</div><div class="line">                videoJsResolutionSwitcher: &#123;</div><div class="line">                    default: &apos;low&apos;,</div><div class="line">                    dynamicLabel: true</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;, function() &#123;</div><div class="line">            var player = this;</div><div class="line">            window.player = player;</div><div class="line">            /*此处放置视屏数据，格式为数组，下面有被注释的示例*/</div><div class="line">            player.updateSrc(</div><div class="line">                [&#123;</div><div class="line">                        src: &apos;../video/example.m4v&apos;,</div><div class="line">                        type: &apos;video/mp4&apos;,</div><div class="line">                        label: &apos;标清&apos;,</div><div class="line">                        res: 360</div><div class="line">                    &#125;, &#123;</div><div class="line">                        src: &apos;../video/example.m4v&apos;,</div><div class="line">                        type: &apos;video/mp4&apos;,</div><div class="line">                        label: &apos;高清&apos;,</div><div class="line">                        res: 720</div><div class="line">                    &#125;,</div><div class="line">                    &#123;</div><div class="line">                        src: &apos;../video/example.m4v&apos;,</div><div class="line">                        type: &apos;video/mp4&apos;,</div><div class="line">                        label: &apos;超清&apos;,</div><div class="line">                        res: 1080</div><div class="line">                    &#125;</div><div class="line">                ]</div><div class="line">            );</div><div class="line">        &#125;)</div></pre></td></tr></table></figure>
<h4 id="配置参数和方法说明"><a href="#配置参数和方法说明" class="headerlink" title="配置参数和方法说明"></a>配置参数和方法说明</h4><h5 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h5><ol>
<li>default://默认分辨率 使用”low”或者”high” 系统会自动选择最低或者最高的分辨率，也可以手动指定分辨率，使用res属性作为参数，例如在当前例子中，我设置‘default：360’，则分辨率默认为标清。</li>
<li>dynamicLabel://是否显示分辨率图标，默认显示，设置为false则不显示。</li>
<li>customSourcePicker://自定义函数，筛选当前所有资源。</li>
<li>ui：//完全不知道有啥用，api上说的是设置为false则按钮不显示，但是我并没有找到是哪个按钮。所以这个属性不用管。</li>
</ol>
<h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5><ol>
<li>updateSrc([source])：和videojs的src(),方法类似，用于载入资源。</li>
<li>currentResolution([label], [customSourcePicker])：返回指定的视频和清晰度。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 返回当前资源</div><div class="line">player.currentResolution(); // returns object &#123;label &apos;&apos;, sources: []&#125;</div><div class="line"></div><div class="line">// 设置资源</div><div class="line">player.currentResolution(&apos;高清&apos;); // returns videojs player object</div></pre></td></tr></table></figure>
<p>该方法接受两个参数，</p>
<ol>
<li>label：//清晰度</li>
<li>customSourcePicker：//自定义筛选函数，用于当资源不止一个时，进行资源筛选。和vjs-playlist插件配合使用时可能有用。该插件有三个参数。<ol>
<li>player</li>
<li>sources</li>
<li>label</li>
</ol>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">player.currentResolution(&apos;SD&apos;, function(_player, _sources, _label)&#123;</div><div class="line">  return _player.src(_sources[0]); \\ Always select first source in array</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ol>
<li>getGroupedSrc()://按照资源类型，分辨率，清晰度返回资源分组。</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南2——热键插件/" itemprop="url">
                  videojs入门指南2——热键插件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:37:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/plugin/" itemprop="url" rel="index">
                    <span itemprop="name">plugin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南2——热键插件/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南2——热键插件/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="使用videojs-hotkeys-插件为videoJS视屏添加热键功能"><a href="#使用videojs-hotkeys-插件为videoJS视屏添加热键功能" class="headerlink" title="使用videojs-hotkeys 插件为videoJS视屏添加热键功能"></a>使用videojs-hotkeys 插件为videoJS视屏添加热键功能</h3><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="https://github.com/ctd1500/videojs-hotkeys" target="_blank" rel="external">插件地址</a></h4><h5 id="个人觉得还挺有用的一个插件，添加了键盘和视屏的交互，可以深度定制。很人性化"><a href="#个人觉得还挺有用的一个插件，添加了键盘和视屏的交互，可以深度定制。很人性化" class="headerlink" title="个人觉得还挺有用的一个插件，添加了键盘和视屏的交互，可以深度定制。很人性化"></a>个人觉得还挺有用的一个插件，添加了键盘和视屏的交互，可以深度定制。很人性化</h5><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><ol>
<li>引入插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;/path/to/videojs.hotkeys.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li>初始化插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">videojs(&apos;vidId&apos;).ready(function() &#123;</div><div class="line">  this.hotkeys(&#123;</div><div class="line">    volumeStep: 0.1,</div><div class="line">    seekStep: 5,</div><div class="line">    enableModifiersForNumbers: false</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="配置选项和方法说明"><a href="#配置选项和方法说明" class="headerlink" title="配置选项和方法说明"></a>配置选项和方法说明</h4><h5 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h5><ol>
<li>volumeStep（十进制）：百分比增加/减少，使用向上和向下箭头键时降低音量（默认：0.1）</li>
<li>seekStep（整数）：快进和快退使用左，右箭头键时的秒数（默认值：5）</li>
<li>enableMute（布尔值）：按M键静音（默认值：true）</li>
<li>enableVolumeScroll（布尔值）：允许通过滚动鼠标滚轮增加/降低音量（默认值：true）</li>
<li>enableFullscreen（布尔）：允许切换按视频全屏通过F键（默认true）</li>
<li>enableNumbers（布尔）：允许试图通过按数字键视频（默认true）</li>
<li>enableModifiersForNumbers（布尔值）：允许使用Ctrl / Alt / Cmd + Number键在视频中跳到指定的百分比位置（默认值：true）</li>
<li>alwaysCaptureHotkeys（boolean）：使用回车键显示控制栏（默认值：false）</li>
<li>enableInactiveFocus（布尔）：控制栏小消失后点击控制栏按钮，重新获取焦点（默认：true）</li>
<li>enableJogStyle（布尔值）：上箭头和下箭头变成控制视屏快进/快退，（默认：false）</li>
</ol>
<h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5><p>1.重新设置一个已有热键，下面这些已有热键可以被重新设置。</p>
<pre><code>1. playPauseKey（功能）：该功能可用于覆盖播放/暂停切换热键（默认键：空格）
2. rewindKey（功能）：该功能可以覆盖视频中向后/向左搜索的键（默认键：左箭头）
3. forwardKey（功能）：此功能可以覆盖在视频中寻找向前/向右的键（默认键：右箭头）
4. volumeUpKey（功能）：此功能可以覆盖增加音量的键（默认键：向上箭头）
5. volumeDownKey（功能）：此功能可以覆盖减小音量的键（默认键：向下箭头）
6. muteKey（功能）：该功能可以覆盖音量静音切换键（默认键：M）
7. fullscreenKey（功能）：此功能可以覆盖全屏切换的键（默认键：F）
</code></pre><h6 id="具体使用方式"><a href="#具体使用方式" class="headerlink" title="具体使用方式"></a>具体使用方式</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">  this.hotkeys(&#123;</div><div class="line">    volumeStep: 0.1,</div><div class="line">    fullscreenKey: function(event, player) &#123;</div><div class="line">      // override fullscreen to trigger when pressing the F key or Ctrl+Enter</div><div class="line">      return ((event.which === 70) || (event.ctrlKey &amp;&amp; event.which === 13));</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line">//进入全屏操作添加ctrl+f键也可以进入全屏。</div></pre></td></tr></table></figure>
<ol>
<li>创建一个新的自定义热键</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">videojs(&apos;vidId&apos;).ready(function() &#123;</div><div class="line">  this.hotkeys(&#123;</div><div class="line">    volumeStep: 0.1,</div><div class="line">    customKeys: &#123;</div><div class="line">      // Create custom hotkeys</div><div class="line">      ctrldKey: &#123;</div><div class="line">        key: function(event) &#123;</div><div class="line">          // Toggle something with CTRL + D Key</div><div class="line">          return (event.ctrlKey &amp;&amp; event.which === 68);</div><div class="line">        &#125;,</div><div class="line">        handler: function(player, options, event) &#123;</div><div class="line">          // Using mute as an example</div><div class="line">          if (options.enableMute) &#123;</div><div class="line">            player.muted(!player.muted());</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line">//ctrl+D静音</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/15/videojs入门指南1——videojs基础使用/" itemprop="url">
                  videojs入门指南1——videojs基础使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-05-15T22:36:00+08:00" content="2017-05-15">
              2017-05-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pulgin/" itemprop="url" rel="index">
                    <span itemprop="name">pulgin</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/05/15/videojs入门指南1——videojs基础使用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/15/videojs入门指南1——videojs基础使用/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="videoJS基础使用"><a href="#videoJS基础使用" class="headerlink" title="videoJS基础使用"></a>videoJS基础使用</h3><h4 id="该系列教程所有实例地址-https-github-com-Avolons-videojs-tutorial-CN"><a href="#该系列教程所有实例地址-https-github-com-Avolons-videojs-tutorial-CN" class="headerlink" title="该系列教程所有实例地址 https://github.com/Avolons/videojs-tutorial-CN"></a>该系列教程所有实例地址 <a href="https://github.com/Avolons/videojs-tutorial-CN" target="_blank" rel="external">https://github.com/Avolons/videojs-tutorial-CN</a></h4><h4 id="插件地址"><a href="#插件地址" class="headerlink" title="插件地址"></a><a href="http://videojs.com" target="_blank" rel="external">插件地址</a></h4><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><ol>
<li>引入插件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;link href=&quot;//vjs.zencdn.net/5.11/video-js.min.css&quot; rel=&quot;stylesheet&quot;&gt;</div><div class="line">&lt;script src=&quot;//vjs.zencdn.net/5.11/video.min.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li>dom元素初始化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;video</div><div class="line">    id=&quot;my-player&quot;</div><div class="line">    class=&quot;video-js&quot;</div><div class="line">    controls</div><div class="line">    preload=&quot;auto&quot;</div><div class="line">    poster=&quot;//vjs.zencdn.net/v/oceans.png&quot;</div><div class="line">    data-setup=&apos;&#123;&#125;&apos;&gt;</div><div class="line">  &lt;source src=&quot;//vjs.zencdn.net/v/oceans.mp4&quot; type=&quot;video/mp4&quot;&gt;&lt;/source&gt;</div><div class="line">  &lt;source src=&quot;//vjs.zencdn.net/v/oceans.webm&quot; type=&quot;video/webm&quot;&gt;&lt;/source&gt;</div><div class="line">  &lt;source src=&quot;//vjs.zencdn.net/v/oceans.ogv&quot; type=&quot;video/ogg&quot;&gt;&lt;/source&gt;</div><div class="line">  &lt;p class=&quot;vjs-no-js&quot;&gt;</div><div class="line">    To view this video please enable JavaScript, and consider upgrading to a</div><div class="line">    web browser that</div><div class="line">    &lt;a href=&quot;http://videojs.com/html5-video-support/&quot; target=&quot;_blank&quot;&gt;</div><div class="line">      supports HTML5 video</div><div class="line">    &lt;/a&gt;</div><div class="line">  &lt;/p&gt;</div><div class="line">&lt;/video&gt;</div></pre></td></tr></table></figure>
<ol>
<li>实例对象初始化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var player = videojs(&apos;my-player&apos;);</div></pre></td></tr></table></figure>
<p>4.videojs方法共有三个参数，videodom对象，options选项和ready后的回调函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var options = &#123;&#125;;</div><div class="line"></div><div class="line">var player = videojs(&apos;my-player&apos;, options, function onPlayerReady() &#123;</div><div class="line">  videojs.log(&apos;Your player is ready!&apos;);</div><div class="line"></div><div class="line">  // In this context, `this` is the player that was created by Video.js.</div><div class="line">  this.play();</div><div class="line"></div><div class="line">  // How about an event listener?</div><div class="line">  this.on(&apos;ended&apos;, function() &#123;</div><div class="line">    videojs.log(&apos;Awww...over so soon?!&apos;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="常用方法和事件（api实在太多，只列出常用的一下）"><a href="#常用方法和事件（api实在太多，只列出常用的一下）" class="headerlink" title="常用方法和事件（api实在太多，只列出常用的一下）"></a>常用方法和事件（api实在太多，只列出常用的一下）</h4><h6 id="完整api地址"><a href="#完整api地址" class="headerlink" title="完整api地址"></a><a href="http://docs.videojs.com/Player.html" target="_blank" rel="external">完整api地址</a></h6><pre><code>1. autoplay()获取或者设置自动播放属性
2. currentTime()设置或者获取当前播放进度
3. duration()获取视屏的总长度，一般要等到视屏对象完全加载后才能获取到，一般我们会使用定时轮询的方式来获取总时长
4. ended()获取当前视屏对象是否已经处于结束状态
5. enterFullWindow() 当全屏不支持我们可以视频容器延伸到浏览器将让我们一样宽。经过试验改api完全无法使视屏进入全屏。分析源码后发现真正进入全屏的api应该是requestFullscreen()，但可惜该api只能又手势触发函数执行，连模拟点击都没法触发他。
6. exitFullscreen() 退出全屏，有效的
7. exitFullWindow() 退出全屏，试了没什么用
8. height() 设置/获取播放器的高度
9. width() 设置/获取播放器的宽度
10. isFullscreen() 检查是否处于全屏模式
11. load() 开始加载视屏
12. loop() 在视频中获取或设置循环属性元素
13. muted() 获取当前的静音状态
14. pause() 暂停视频
15. paused() 检查视屏是否暂停
16. play() 播放视屏
17. played() 检查视屏播放状态
18. preload() 获取或设置预加载属性
19. ready() 视屏对象加载完成后调用ready中的回调函数
20. poster() 获取或设置海报图像源url
21. reset() 重载视屏
22. src() 更换视频源
</code></pre><h5 id="事件监听方式，采用on-监听方式，详细事件api见官方文档"><a href="#事件监听方式，采用on-监听方式，详细事件api见官方文档" class="headerlink" title="事件监听方式，采用on()监听方式，详细事件api见官方文档"></a>事件监听方式，采用on()监听方式，详细事件api见官方文档</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">player.on(&apos;ended&apos;, function() &#123;</div><div class="line">    videojs.log(&apos;Awww...over so soon?!&apos;);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/28/正则表达式笔记2/" itemprop="url">
                  正则表达式笔记2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-28T21:12:00+08:00" content="2017-02-28">
              2017-02-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/28/正则表达式笔记2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/28/正则表达式笔记2/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h5 id="4-6-重复类"><a href="#4-6-重复类" class="headerlink" title="4.6 重复类"></a>4.6 重复类</h5><h6 id="模式的精确匹配次数，使用大括号（-）表示。-n-表示恰好重复n次，-n-表示至少重复n次，-n-m-表示重复不少于n次，不多于m次。"><a href="#模式的精确匹配次数，使用大括号（-）表示。-n-表示恰好重复n次，-n-表示至少重复n次，-n-m-表示重复不少于n次，不多于m次。" class="headerlink" title="模式的精确匹配次数，使用大括号（{}）表示。{n}表示恰好重复n次，{n,}表示至少重复n次，{n,m}表示重复不少于n次，不多于m次。"></a>模式的精确匹配次数，使用大括号（{}）表示。{n}表示恰好重复n次，{n,}表示至少重复n次，{n,m}表示重复不少于n次，不多于m次。</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/lo&#123;2&#125;k/.test(&apos;look&apos;) // true</div><div class="line">/lo&#123;2, 5&#125;k/.test(&apos;looook&apos;) // true</div></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/2017/02/28/正则表达式笔记2/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/28/正则表达式笔记1/" itemprop="url">
                  正则表达式笔记1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-28T21:11:00+08:00" content="2017-02-28">
              2017-02-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/28/正则表达式笔记1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/28/正则表达式笔记1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="js正则对象RegExp"><a href="#js正则对象RegExp" class="headerlink" title="js正则对象RegExp"></a>js正则对象RegExp</h2><h4 id="1-js正则概述"><a href="#1-js正则概述" class="headerlink" title="1.js正则概述"></a>1.js正则概述</h4><h6 id="新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。另一种是使用RegExp构造函数。"><a href="#新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。另一种是使用RegExp构造函数。" class="headerlink" title="新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。另一种是使用RegExp构造函数。"></a>新建正则表达式有两种方法。一种是使用字面量，以斜杠表示开始和结束。另一种是使用RegExp构造函数。</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var regex = /xyz/;</div><div class="line">var regex = new RegExp(&apos;xyz&apos;);</div></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/2017/02/28/正则表达式笔记1/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/Yarn构建工具入门/" itemprop="url">
                  Yarn构建工具入门
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-23T23:56:00+08:00" content="2017-02-23">
              2017-02-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/tools/" itemprop="url" rel="index">
                    <span itemprop="name">tools</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/23/Yarn构建工具入门/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/23/Yarn构建工具入门/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h6 id="Yarn是一个facebook新出的包管理工具，在这之前，我们一直都是使用npm，或者bower来进行包管理。那明明npm和bower用着好好的，为啥要出一个新的yarn。"><a href="#Yarn是一个facebook新出的包管理工具，在这之前，我们一直都是使用npm，或者bower来进行包管理。那明明npm和bower用着好好的，为啥要出一个新的yarn。" class="headerlink" title="Yarn是一个facebook新出的包管理工具，在这之前，我们一直都是使用npm，或者bower来进行包管理。那明明npm和bower用着好好的，为啥要出一个新的yarn。"></a>Yarn是一个facebook新出的包管理工具，在这之前，我们一直都是使用npm，或者bower来进行包管理。那明明npm和bower用着好好的，为啥要出一个新的yarn。</h6><h6 id="打开yarn官网，我去醒目的打字跃然眼前；"><a href="#打开yarn官网，我去醒目的打字跃然眼前；" class="headerlink" title="打开yarn官网，我去醒目的打字跃然眼前；"></a>打开yarn官网，我去醒目的打字跃然眼前；</h6><h1 id="快速、可靠、安全的依赖管理。"><a href="#快速、可靠、安全的依赖管理。" class="headerlink" title="快速、可靠、安全的依赖管理。"></a>快速、可靠、安全的依赖管理。</h1><h6 id="说实话，npm在没有科技工具的情况下，安装速度的确令人难受，不过我们有了cnpm后，其实也就还好了。毕竟十分钟一次的更新，和npm使用起来没啥差别。不多说，首先看他极力推崇的自身的三大特性"><a href="#说实话，npm在没有科技工具的情况下，安装速度的确令人难受，不过我们有了cnpm后，其实也就还好了。毕竟十分钟一次的更新，和npm使用起来没啥差别。不多说，首先看他极力推崇的自身的三大特性" class="headerlink" title="说实话，npm在没有科技工具的情况下，安装速度的确令人难受，不过我们有了cnpm后，其实也就还好了。毕竟十分钟一次的更新，和npm使用起来没啥差别。不多说，首先看他极力推崇的自身的三大特性"></a>说实话，npm在没有科技工具的情况下，安装速度的确令人难受，不过我们有了cnpm后，其实也就还好了。毕竟十分钟一次的更新，和npm使用起来没啥差别。不多说，首先看他极力推崇的自身的三大特性</h6>
          <div class="post-more-link text-center">
            <a class="btn" href="/2017/02/23/Yarn构建工具入门/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="WanZH" />
          <p class="site-author-name" itemprop="name">WanZH</p>
          <p class="site-description motion-element" itemprop="description">一觉睡醒，前端又出新框架了</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">25</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WanZH</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"wanzhuhao"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
